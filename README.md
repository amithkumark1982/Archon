[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Discord](https://img.shields.io/discord/548752368842571804.svg?label=Discord&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAADFAAAAxQEdzbqoAAAGG0lEQVRIiZVWW2xU1xVd577mzvW8Zzxj43Fg7ICxA8ThUdkKuIkSUoOoW6KGfLQRUhPx0UoVDWorVa0qVWoT1LSKSKV%2B5SOqqiqiDURBwiYBmbohEExkDAaPsT0PZpgZPM87jztzH%2BdU0EotJE3dLZ2fc85eS3vts7UOYYxhtbHh0C%2Bernk9s1ywc59p99es24kTK6%2B9Qr8sXfiyw8jZG8M6FfdTqqmyl40ZNS0s9vZkpeHBLdWG0GCCuMf%2FxqnXJauZyvzkW81VE0TORxWWr3GKYb7V6useFJwOzpfKENUy4C1rnYosYMGpOFENHeSYHKnOz%2F3S%2FrUffKxNHDMfxuIe3ui5tDhKwq5bjrAjE0zGt27ycrzbbSMdyyvocxto3JiHFM%2BDcoDbyQns8qWnaNP4M3p6XhdHXtnFDz7%2FAOYDFaydmtvHdwdOemSRd6eB8GAvLKcCM1uAlE7BYeexXMugORfF2sFeqD4J9p6NnKVXO5uEe1UEP2rFFvcCSH6ugtBfL%2FdZ3f4TitfB2yo6fDeXoQZcqDGK3haF0wE07yagiBZKqTiMFgHf5Uek3wGvvwPSxg7Cbe5fR1yuZz8nked350QzHPi1XjaFeq4K54UbaFz7BPXJKPhzHwOJLBLTU7iTSqKSSwJMgjUxAZyeR%2BnyHOT4bTg9Lhi6qFjOwIvSkwfFByRiQcc2CNIYx9lgxVewNHEGtvJNIHYd3et3oBgK4%2FrFC%2FDbROSLJazNq6h%2BOg3JnIKRvAp0bgFfWANTlgl0tok4ff0AZv9NUNfytGpxJtPhdCgI7R6BK7wP1vh7gJpEKZuFT2Ao5DLg5HbkFy6CI0XogSDIE0%2BDwQ61BfBowrRaASJJ33iAAAQckTniy9fQvpSB46ltiGgFrHv%2BABZmZjF74jgIs2BRAzzVseHJx4FqEe1DQ6i88G0UynVoih3mrSyQ6BKhKjttX31Zbp1%2Fuyn8qxNhZ1DCrloFC5qFtmIeO3q78NxjfYh3BjHRKGPyQwsW4eFwexBw2fDi4Z9BsUkY18uYL5eRpQE0ak1AsRNCzQhVHG4A%2FyTg2zyPhFpArMuDUtGEngd825xwEw5DvREMHD6MhlYHPX8WT%2Bx6Fj868ircTgdONFvgUhl0yQKuv%2FshRGKDrjNwHGkHEQYA5O6%2FooE18t7HgzZyMBLE2rEBFAc6cQoEVxiFDuCu1kCo3QcKioqqYkXXUQWgSyJ4jxvjkzFoKgFZvgPOlEDzugLFvfm%2BOL79rw2s77CPHrBJ2MlzqIkc6BoXfMxCDgSLponpaBqz16IwGjqm%2Fz6FY%2BOX8I7WxDlGMFWjEPwBPLJ3G9Z%2FbwyuniDg9YjE7hiybz%2FIC01NS9QaRuYKY46LFiVFcIjwHJbBUALDMrVQqmYgKyKquoEK4fHpzBXkRnchRiSkRDuUkT4cDSmQdR0%2FbpNwDZQai0u6RXjGG4vnjUNvnk3ctEkbznC8U6VEanEgAYFHjBKUCMEa2Q5REJAo5NFqXwffgZdAezrRMACV8BBcNgzfk5oBM7rFUhcWktr8raPGhd%2Ffut%2Fk8tEXPpAOvT1NfO4R4Svrf7rS3b55POwhIYcIXm9hoc4w8twoKlOL0JkP3k0RzH00C%2FHRPgjiPRITP%2FdKiKg1xNJqoxpNH0cxd%2Bb%2BBDxsONJLv91BH9sywY9u9bYpPDwzUQztG0QuU0HmWhqluSRso8Monp6EfWg7VGYD%2FARtnInquZvUnIl9QJJLL5uTvyl8sR%2FcXvyM7%2Bj6TJhP70RiSaLf2U2u30ihduYqsHsQxkwJ2vQczA1b0Xj3OOiePbCid1k5ldFIOhUjucxJc%2FJY4b%2F6gT75B4uvlY%2F4Tr7zqzonR0uxUik7f9soZWMsyOqQN4ZAy0VYd7LMIHbTfuovTa6QjXPp%2BA9JKbsfzcof%2FxPvCz3Zv%2Fu7pMErMCL9%2FUK7NyQR4xmfl%2F9%2BW7DPvTI3Xa%2FZ%2FDmz3owin%2FmbWEitUI%2BnYqrV08Z7bzYexlqV6ctjR0iYyx%2FVgiOjZvziW2XJ%2FhHlpbvG%2B2%2FU%2F1fuqn8VnuGve228%2FZt6NfOn0tWpewO%2BurhHsNrlH9je9v%2FcZ4zhHzANCEt3dGeoAAAAAElFTkSuQmCC)](https://discord.gg/ZdVbrMn)
[![Build Status](https://travis-ci.org/Bloodreaver/Archon.svg?branch=master)](https://travis-ci.org/Bloodreaver/Archon)
<img align="right" src="https://puu.sh/CXnpV/bbc0f8d5b5.png">
# Archon
A collision free, multi-chain proof of capacity mining proxy which supports BURSTcoin, BHD/BitcoinHD and Boomcoin.

## Contents:
- [What Archon does](#what-archon-does)
- [What Archon does not do](#what-archon-does-not-do)
- [Defining your mining chains](#defining-your-mining-chains)
- [All Configuration Options for PoC Chains](#all-configuration-options-for-poc-chains)
- [Global Configuration Options](#global-configuration-options)
- [Sample configuration file](#sample-configuration-file)
- [Troubleshooting](#troubleshooting)
- [Donations](#donations)

## What Archon does:
- Turns a regular single-chain miner into a multi-chain miner via intelligent and customizable queue management
- Is compatible with Scavenger and Blago proof-of-capacity (PoC) mining software
- Like Scavenger, Archon is written using the Rust systems language; memory-safe, cross-platform, low-footprint and stable
- Features:
  - Collision free
  - Can run in *priority* __or__ *first in, first out* queuing modes
  - Can interrupt lower priority blocks (toggleable)
  - Compatible with HDPool mining (directly, without the use of HDProxy or another program)
  - Compatible with BurstNeon, Foxy-X, Nogrod/goburstpool, HPool and BATS pool software
  - Compatible with BHD, Burst and Boom wallet software for solo mining
  - [Customizable per-chain settings](#all-configuration-options-for-poc-chains):
    - Dynamic Deadlines (auto adjust for network difficulty based on total plot capacity) with customisable submit probability
    - Target deadline (for the entire chain)
    - Target deadline overrides (per ID)
    - Define passphrases for solo burst/boom mining (per ID)
    - Requeue interrupted blocks (toggleable with customisable maximum)
    - Adjustable *getMiningInfo* interval
    - Adjustable timeout and number of submission attempts

## What Archon does not do:
- Mine
- Provide lambos

## How it works
Archon acts as an intermediary between your mining software and your upstream pool/wallet(s).
Trying to be brief, for each chain you instruct Archon to manage, it will:
```
- Create a thread and poll for *new* mining info
  - Determines if the new mining info should be mined immediately, or queued, using a logical flow system
- Wait for connections from your miners, just like a normal pool/wallet would do
  - Upon receiving a `getMiningInfo` request, asynchronously sends the *current mining info* to the miner
  - Upon receiving a `submitNonce` request (deadline submission) from a miner, uses logic to determine which chain the submission is for and whether to forward the deadline to the upstream pool/wallet
    - Do not send Upstream: Asynchronously sends a fake confirmation back to the miner
      - This will be the case if either of the following is true:
        - The submitted deadline is greater than the target deadline for this chain
        - The submitted deadline is greater than previously submitted deadlines by the account ID for this block height
    - Send Upstream: Asynchronously sends the deadline submission upstream, and awaits the result, forwarding the result back to the miner
- Once a second, in a separate thread, processes any blocks waiting to be mined, using logic to determine when to start mining them.
```

## A note on configuration names:
*ALL configuration option names (for global configuration and per chain) are _*CaSe SeNsItIvE*_, and obviously must be spelled correctly, as noted here in this readme.* To help remember this, the names are all **Camel Cased**; This means the __first word__ is all __lower__ case, and **following words all have their first letter in upper case**.

## Defining your mining chains
Archon supports mining multiple chains in either a `priority mode (default)` or a `first in, first out mode`, you would only use the latter if you didn't value mining any one chain over another.

Your PoC chains are defined in the `archon.yaml` configuration file, [see below](#sample-configuration-file).

Note: You must have at least one PoC Chain defined, or Archon will have nothing to do!

Example chain layouts for different purposes, using the bare minimum information required by Archon:
```yaml
pocChains:
# BHD via HDProxy
#  (You must have HDProxy running on the same machine as Archon with these settings!)
  - name: First Chain
    priority: 0
    url: "http://localhost:60100"
    isHdpool: true
    color: cyan

# BHD via HDPool CO Pool (Direct - no other applications needed)
  - name: Second Chain
    priority: 1
  # Your HDPool account key goes here:
    accountKey: abcdefg-abcdefg-abcdefg-abcdefg
  # If you wish to mine on ECO pool, change the below line to isHdpoolEco: true
    isHdpool: true
#    minerName: My Miner
    color: blue

# BHD via HPool
  - name: Third Chain
    priority: 2
  # Your HPool API Key / Account key goes here:
    accountKey: abcdefg-abcdefg-abcdefg-abcdefg
    isHpool: true
    url: "http://btchd.hpool.com"
#    minerName: My Miner
    color: yellow

# BHD Solo
#  (You must have a BHD wallet running in mining mode / with RPC server on,
#   on the same machine as Archon is running on with these settings!)
  - name: Fourth Chain
    priority: 3
    isBhd: true
    url: "http://localhost:8732"
    color: green

# Burst Pool mining via voiplanparty.com
  - name: Fifth Chain
    priority: 4
    url: "http://voiplanparty.com:8124"
    isPool: true
    color: magenta

# Burst Solo mining
#  (You must have a Burst wallet running on the same machine as Archon with these settings!)
  - name: Sixth Chain
    priority: 5
    url: "http://localhost:8125"
    numericIdToPassphrase:
      12345678901234567890: passphrase for id 12345678901234567890 goes here
      23456789012345678901: "passphrase for id 23456789012345678901 goes here"
#^^^^^ spacing here is very important!
    color: cyan

# Boom Pool mining via boom.voiplanparty.com
  - name: Seventh Chain
    priority: 6
    url: "http://boom.voiplanparty.com:80"
    isPool: true
    color: blue

# Boom Solo mining
#  (You must have a Boom wallet running on the same machine as Archon with these settings!)
  - name: Eighth Chain
    priority: 7
    url: "http://localhost:8125" # default boom wallet port, if you changed the wallet port you'll need to change it here too
    numericIdToPassphrase:
      12345678901234567890: passphrase for id 12345678901234567890 goes here
      23456789012345678901: "passphrase for id 23456789012345678901 goes here"
#^^^^^ spacing here is very important!
    color: blue
    isBoomcoin: true
```

## All Configuration Options for PoC Chains
If you need more control over your chains, you can add any of these parameters to each chain. There is no set order to these.
- `name` *`String`*
  - Required (But can be blank)
  - Used for displaying a friendly chain name in the Archon console.
- `enabled` *`Boolean`*
  - Optional. Default = true
  - If this is set to false, Archon will ignore this chain completely.
- `priority` *`Boolean`*
  - Required (But only used if `priorityMode` = `true`)
  - A 0-based priority index. 0 = highest priority. MUST BE UNIQUE PER CHAIN.
- `isHpool` *`Boolean`*
  - Optional. Default = false. **REQUIRED FOR MINING BHD VIA `HPOOL`**
  - Set to true if this chain is for mining BHD via HPool. This will instruct Archon to send the supplied `accountKey` value to HPool on deadline submissions. *Note: If this is true, you do not need to set `isBhd` or `isPool`.*
  - **NOTE:** You may only specify **ONE** of `isHpool` | `isHdpool` | `isHdpoolEco` on each chain - specifying more than one of these as true will result in a fatal error!
- `isHdpool` *`Boolean`*
  - Optional. Default = false. **REQUIRED FOR MINING BHD VIA `HDPOOL CO POOL`**
  - Set to true if this chain is for mining via HDPool **CO POOL**.
  - **To instruct Archon to talk directly to HDPool (CO Pool) via websockets instead of via HDProxy, set this to `true` and specify your `accountKey` (See below).** *Note: If this is true, you do not need to set `isBhd` or `isPool`.*
  - **NOTE:** You may only specify **ONE** of `isHpool` | `isHdpool` | `isHdpoolEco` on each chain - specifying more than one of these as true will result in a fatal error!
- `isHdpoolEco` *`Boolean`*
  - Optional. Default = false. **REQUIRED FOR MINING BHD VIA `HDPOOL ECO POOL`**
  - Set to true if this chain is for mining via HDPool **ECO POOL**.
  - **To instruct Archon to talk directly to HDPool (ECO Pool) via websockets instead of via HDProxy, set this to `true` and specify your `accountKey` (See below).** *Note: If this is true, you do not need to set `isBhd` or `isPool`.*
  - **NOTE:** You may only specify **ONE** of `isHpool` | `isHdpool` | `isHdpoolEco` on each chain - specifying more than one of these as true will result in a fatal error!
- `accountKey` *`String`*
  - Optional. **REQUIRED FOR MINING BHD THROUGH `HPOOL` or `HDPOOL (CO & ECO)` _(Direct only, not required if you are using HDProxy for HDPool)_**
  - If this chain is for mining BHD via HPool or HDPool (directly), set this to your Account Key so that Archon can supply it when communicating with the pool. *Only used for HPOOL / HDPOOL (ECO or CO Pools).*
- `minerName` *`String`*
  - Optional.
  - Set this to use a custom name for reporting your miner name to your upstream pool, it will be reported as `<MINER_NAME> via Archon`
  - *You may append your currently running Archon version to the miner name (i.e. `<MINER_NAME> via Archon vX.Y.Z`) by setting the `appendVersionToMinerName` setting to true for this chain. See the next option.*
  - If not specified, the following will apply:
    - If the chain is for HPool or HDPool, Archon will attempt to retrieve your device's hostname, and report your miner as `<HOSTNAME> via Archon` if successful - where `<HOSTNAME>` is the name of your computer or device. If Archon cannot retrieve the hostname, your miner will be reported simply as `Archon`.
    - For other chains, Archon will set the miner name as `<MINING SOFTWARE USER AGENT> via Archon v<VERSION>` to avoid potentially exposing your identity to the public.
  - *Note: The `User-Agent` header that Archon sends with submissions will always be `<MINING SOFTWARE USER AGENT> via Archon v<VERSION>`, you cannot customise that. This is only intended to give you a way to control the name that appears in your upstream pool/proxy web interface, for monitoring purposes, if it is supported.*
- `isBoomcoin` *`Boolean`*
  - Optional. Default = false.
  - Required for mining solo Boomcoin, or any upstream which uses the /boom url subdirectory instead of /burst.
- `appendVersionToMinerName` *`Boolean`*
  - Optional. Default = false
  - If this is enabled, Archon will automatically append the current version of itself to your `minerName`.
- `minerAlias` *`String`*
  - Optional.
  - Use this to provide a custom miner alias to upstream pools which support it. Achieves this by accompanying your deadline submissions with an `X-MinerAlias` Header containing the value set here.
- `isBhd` *`Boolean`*
  - Optional. Default = false
  - Set to true if the chain is mining BHD/BTCHD/BitcoinHD. *Not required if any of `isHpool`, `isHdpool` or `isHdpoolEco` are set to `true`.*
- `isPool` *`Boolean`*
  - Optional. Default = false
  - Set to true if the chain is mining via a pool. *Not required if any of `isHpool`, `isHdpool` or `isHdpoolEco` are set to `true`.*
- `url` *`String`*
  - Required; **but may be left out if the chain is for `HDPool (CO or ECO)` and you *are not* using HDProxy.**
  - Must be a fully qualified URI including protocol, domain/IP and port, eg: `"http://voiplanparty.com:8124"`
  - If you wish to mine via HDPool **and use HDProxy**, do not specify `accountKey`, set `isHdpool` to `true`, and set `url` to your HDProxy URL, (eg `url: "http://localhost:60100"` if HDProxy is running on the same machine as Archon)
- `historicalRounds` *`Unsigned 16-bit Integer`*
  - Optional. Default = 360
  - Not used at the moment, but will be used later for statistics displayed in the Web UI (which is not implemented currently).
- `targetDeadline` *`Unsigned 64-bit Integer`*
  - Optional. Default = 18446744073709551615 (u64::max) or the pool/wallet's maximum deadline, if given.
  - Set this to the desired maximum deadline. Any deadlines submitted to Archon for this chain which are higher than this value will not be sent upstream.
- `numericIdToPassphrase` *`HashMap<Unsigned 64-bit Integer, String>`*
  - Optional.
  - Use this if this chain is for solo mining BURST.
  - Example format:
```yaml
pocChains:
  - name: Example Chain With Passphrase
    url: "http://some.mining.pool:1234" # not a real mining pool
    color: white
    numericIdToPassphrase:
      12345678901234567890: passphrase for id 12345678901234567890 goes here
      23456789012345678901: "passphrase for id 23456789012345678901 goes here"
#^^^^^ note spacing! very important!
```
- `numericIdToTargetDeadline` *`HashMap<Unsigned 64-bit Integer, Unsigned 64-bit Integer>`*
  - Optional.
  - Use this section to specify OVERRIDES for target deadlines. 
  - *Note: If a deadline is submitted from an ID specified here, for this chain, this target deadline WILL be used, provided it is under the maximum deadline reported by the upstream pool/wallet, if given.*
  - Example format:
```yaml
numericIdToTargetDeadline:
  12345678901234567890: 86400          # 1 day target deadline for ID 12345678901234567890
```
- `color` *`String`*
  - Required.
  - Specify a color for Archon to display info for this chain in.
  - Valid colors:
    - green
    - yellow
    - blue
    - magenta
    - cyan
    - white
- `getMiningInfoInterval` *`Unsigned 8-bit Integer`*
  - Optional. Default = 3 seconds
  - Specify the interval, in seconds, that Archon will request mining info for this chain. Minimum is 1 second.
- `useDynamicDeadlines` *`Boolean`*
  - Optional. Default = false
  - If set to true, Archon will calculate your target deadline dynamically for each block, for this chain only.
- `submitProbability` *`Unsigned 16-bit Integer`*
  - Optional. Default = 95
  - Only used if `useDynamicDeadlines` is enabled for this chain. Controls the submit rate of the dynamic deadlines, which by default submit 95% of the time on average. It achieves this by multiplying the default calculated dynamic deadline against the percentage you specify here. Formula: `SubmitProbabilityTargetDeadline = (720 * NetworkDifficultyTiB / TotalPlotSizeInTiB) * (SubmitProbability / 95)` where `NetworkDifficultyTiB` is calculated using this formula: `NetworkDifficultyTiB = (4398046511104 / 240) / BaseTarget`.
  - Examples:
    - `95` - 95% submission rate - this is the default. If your normal Dynamic TDL was calculated as `3,000,000`, it will still be `3,000,000`.
    - `223` - 223% submission rate - If your normal Dynamic TDL was calculated as `2,850,000` (95% default, 100% would be 3,000,000), 223% would change it to `6,690,000`. (2850000 * (223 / 95)).
  - Note: You may make this number whatever you like (5, 300, 1000...), but be aware that it is a **multiplier** on the dynamic deadlines, if you go a bit crazy you may have overflow issues and/or application crashes/funky stuff happening.
- `allowLowerBlockHeights` *`Boolean`*
  - Optional. Default = false
  - If set to true, Archon will change its new-block-detection method from "block height greater than previous" to "block height not equal to previous" for this chain only, which will consequently allow a lower block height to be mined in the same chain.
    - Use case: Only really useful if this chain is pointing at a multi-chain proxy, or a pool that mines multiple chains. *cough PoCC cough*
- `requeueInterruptedBlocks` *`Boolean`*
  - Optional. Default = true
  - If you disable this feature, this chain's blocks which get interrupted by a higher priority chain **WILL NOT** be requeued and mined after the higher priority chain finishes.
  - Only used if Archon is running in priority mode with block interrupting enabled (which is the default).
    - Use case: If this chain is a testnet chain or something you don't really care about mining every block for.
- `maximumRequeueTimes` *`Unsigned 8-bit Integer`*
  - Optional.
  - Specify a maximum number of times that a block for this chain will be requeued.
  - Only used if Archon is running in priority mode with block interrupting enabled (which is the default), and `requeueInterruptedBlocks` has not been disabled for this chain.
    - Use case: For something like mining a testnet where you don't want to continually mine the same block if it keeps getting interrupted by a higher priority chain.
- `payoutAddress` *`String`*
  - Optional, but Required for Foxy-Pool type upstreams.
  - Sends the specified value as an `X-Account` header for Foxy-Pool upstreams to use.
- `timeout` *`Unsigned 8-bit Integer`*
  - Optional. Default = 5 seconds.
  - Specify a timeout duration for this chain, which will apply to getting mining info requests and deadline submission requests. This is how long Archon will wait for a response after sending a request - if no response is received within this time then Archon will resend the request. For deadline submissions Archon will only retry up to a default of 5 times. You can change this setting using the `submitAttempts` chain configuration setting.
- `submitAttempts` *`Unsigned 8-bit Integer`*
  - Optional. Default = 5 attempts.
  - Specify a maximum amount of times that Archon will attempt to submit a deadline before giving up.

## Global Configuration Options
Use these configuration options to control Archon's behavior.
- `gracePeriod` *`Boolean`*
  - Required.
  - __The amount of time that must elapse after a block starts, before Archon considers the block to be "complete".__
  - **This value is extremely important**, it is used as a timer by Archon to determine how much time must elapse after a block starts before Archon can send the next queued block to be mined, and also whether or not a new block should cause an old block to be interrupted (and perhaps requeued). Set it too small, and Archon will instruct your miners to start mining a new block before they've finished scanning the previous one. Conversely, set it too long, and you risk missing blocks entirely. Ideally it should be set around 5 seconds longer than your regular scan times. *(5 seconds just to give it a safety net to compensate for fluctuations)*
- `priorityMode` *`Boolean`*
  - Optional. Default = true
  - This controls how Archon determines the order in which to send blocks to be mined.
    - `true` - Running in priority mode means that Archon will send new blocks immediately from higher priority chains that are currently being mined, ensuring that your higher priority blocks get mined ASAP. It also means that if multiple blocks are queued, Archon will always start the one from the highest priority chain first.
    - `false` - Running in [FIFO](https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)) mode means that Archon will not interrupt blocks, since all chains are the same priority, and Archon will always start the oldest block from the queue first.
- `interruptLowerPriorityBlocks` *`Boolean`*
  - Optional. Default = true
  - This option is only used in priority mode. If enabled, it will interrupt a currently mining block from a lower-priority chain, in order to mine a new block from a higher priority chain ASAP. The default behavior then is to requeue the lower priority block, but this can be overridden with a per-chain setting.
- `webServerBindAddress` *`String`*
  - Required.
  - Specify the IP binding you wish Archon to listen for connections on. `0.0.0.0` is universal. `127.0.0.1` is local machine only. You can also use the LAN IP of the host machine if you wish.
- `webServerPort` *`Unsigned 16-bit Integer`*
  - Required.
  - Specify the Port that Archon will listen for incoming connections from your miners and for serving the Web UI on.
- `usePocChainColors` *`String`*
  - Optional. Default = true.
  - If enabled, events (new block, deadline submitted etc) pertaining to a defined PoC Chain will be printed in the color specified in that chain's configuration.
  - If disabled, most of the printing will be in white.
- `outageStatusUpdateInterval` *`Unsigned 16-bit Integer`*
  - Optional. Default = 300 seconds / 5 minutes
  - This just avoids spamming the console with errors in the event of an outage.
- `showHumanReadableDeadlines` *`Boolean`*
  - Optional. Default = false
  - Appends a human readable time to deadlines and other durations. Eg: 3345951 **(1m 8d 17:25:51)**
- `maskAccountIdsInConsole` *`Boolean`*
  - Optional. Default = false
  - Masks Account IDs in the Archon console, leaving the first and last three digits intact. Eg: ID 12345678901234567890 => **1313621917225541890**
    - Use case: None. I'm just paranoid. Use it if you wish :)
- `use24HourTime` *`Boolean`*
  - Optional. Default = false
  - If enabled, times printed to console will be in 24 hour format.
- `numOldLogFilesToKeep` *`Unsigned 8-bit Integer`*
  - Optional. Default = 5
  - Keeps this many *old* files in the `logs/` folder. A new `archon.log` file will be created and old files rotated every time Archon is launched. If `loggingLevel` = `Off`, this setting is not used. *Note: Archon will __never__ delete files, it will only overwrite log files as per normal, up to the limit specified here.*
- `loggingLevel` *`String`*
  - Optional. Default = `info` *(this is case insensitive)*
  - Sets how verbose Archon's file logging is.
    - I recommend leaving this on **info**, as debug and trace levels are *very* verbose and file sizes can get large, quickly..
  - Valid options:
    - `Off` - Disable file logging entirely. *Note: Archon will not create a logs directory with this set.*
    - `Trace` - Show **ALL** logs __(not recommended unless you're troubleshooting)__
    - `Debug` - Show all logs except Trace logs __(not recommended unless you're troubleshooting)__
    - `Info` - Recommended. Shows logs with **INFO|WARN|ERROR** levels.
    - `Warn` - Only show **WARN|ERROR** level logs.
    - `Error` - Only show **ERROR** level logs.
- `dependencyLoggingLevel` *`String`*
  - Optional. Default = `info` *(this is case insensitive)*
  - Sets how verbose Archon's *dependencies* file logging is.
    - I recommend leaving this on **info**, as debug and trace levels are *very* verbose and file sizes can get large, quickly.
  - Valid options:
    - `Off` - Disable dependency logging entirely.
    - `Trace` - Show **ALL** logs __(not recommended unless you're troubleshooting)__
    - `Debug` - Show all logs except Trace logs __(not recommended unless you're troubleshooting)__
    - `Info` - Recommended. Shows logs with **INFO|WARN|ERROR** levels.
    - `Warn` - Only show **WARN|ERROR** level logs.
    - `Error` - Only show **ERROR** level logs.
- `showMinerAddresses` *`Boolean`*
  - Optional. Default = false
  - Shows the address that deadline submissions are received from.
- `minerUpdateTimeout` *`Unsigned 32-bit Integer`*
  - Optional. Default = 1800 (30 minutes)
  - The amount of time that a miner must stop communicating with Archon for, for Archon to ignore that miner's capacity in Plot Capacity calculations.
  - If a miner doesn't communicate with Archon for longer than this period, Archon will no longer consider that miner's reported capacity as part of your total plot size. *For example, with the default setting of 30 minutes: If Miner System A has 50 TiB and Miner System B has 30 TiB, but Miner System B stops communication with Archon for 30 minutes or more, Archon will report your total plot capacity as 50 TiB rather than 80 TiB.*
- `minerOfflineWarnings` *`Boolean`*
  - Optional. Default = true
  - If enabled, Archon will check every 5 minutes for miners that haven't sent an update in more than **half of** `minerUpdateTimeout` seconds (Default = 1800 seconds or 30 minutes) and show a warning in the console and write a warning to the log file if logging is enabled.

## Sample configuration file
Archon will look in the working directory (usually the same location as the executable) for `archon.yaml`.

If the file cannot be loaded or is non-existent, Archon will ask you if you would like to generate one. Be warned: If you agree, Archon will overwrite any existing `archon.yaml` file in the working directory, this is not reversible!

Generated File Contents:
```yaml
---
###############################################################################################
##                             ARCHON DEFAULT CONFIGURATION FILE                             ##
###############################################################################################
## For help and guidance, see the github readme at https://github.com/Bloodreaver/Archon     ##
## You can also join the Discord at https://discord.gg/ZdVbrMn if you need further help! :)  ##
###############################################################################################

# Grace Period: How long (in seconds) Archon will let blocks mine for before considering them to be completed.
# NOTE: This value is extremely important, it is used as a timer by Archon to determine how much time must elapse after a block starts
#   before Archon can send the next queued block to be mined. Set it too small, and Archon will instruct your miners to start mining a 
#   new block before they've finished scanning the previous one. Conversely, set it too long, and you risk missing blocks entirely.
#   Ideally it should be set around 5 seconds longer than your regular scan times, 5 seconds just to give it a safety net.
gracePeriod: 20

# Priority Mode: Optional. Default: True.
#   TRUE: Chains will be mined in the order specified in the chain configurations below.
#  FALSE: Blocks will be mined on a first in, first out basis.
priorityMode: true

# Interrupt Lower Priority Blocks: Optional. Default: True. Only used in priority mode.
#   TRUE: Lower priority blocks will be interrupted by new blocks from a higher priority chain.
#  FALSE: Blocks will not be interrupted unless outdated by a new block from the same chain.
interruptLowerPriorityBlocks: true

# Web Server Bind Address: Which interface to listen for requests from your miners and/or web requests.

# Localhost only - will only listen for requests made from the same machine
#webServerBindAddress: 127.0.0.1

# LAN IP - Will listen for requests made over your local network to this machine, if this machines LAN IP = 192.168.1.1
# NOTE: This probably isn't your machine's LAN IP, you'll need to change it!
#webServerBindAddress: 192.168.1.1

# Universal - bind to all interfaces
webServerBindAddress: 0.0.0.0

# Web Server Port: Listen for requests on this port.
webServerPort: 1337

# Use PoC Chain Colors: Optional. Default: True. Whether to use colors in console logging for each chain.
# NOTE: On windows, if your colors are dim, see: https://blogs.msdn.microsoft.com/commandline/2017/08/02/updating-the-windows-console-colors/
usePocChainColors: true

# Show Human Readable Deadlines: Optional. If true, values displayed in seconds will be appended with a human readable value, for example: 3345951 (1m 8d 17:25:51)
showHumanReadableDeadlines: true

# Logging Level: Optional. Default: Info. Case insensitive.
#   Valid options: off|trace|debug|info|warn|error
loggingLevel: info

# Show Miner Addresses: Optional. Default: false.
#   Shows the IP Address of miner's which submit deadlines.
showMinerAddresses: false

######################################################################################################################
# Define PoC Chains to mine here, Archon will exit if there are no chains configured/enabled, you need at least one! #
######################################################################################################################

# What follows is a default chain configuration, set up to mine BHD via HDPool and Burst via the VoipLanParty.com pool.
# A Testnet pool chain is also there, but disabled by default as most people won't wish to mine it.
######## See https://github.com/Bloodreaver/Archon#defining-your-mining-chains for help with this if needed ########

pocChains:
# BHD via HDPool (Direct - no other applications needed)
  - name: BTCHD - HDPool [Direct]
    priority: 0
  # Your HDPool account key goes here:
    accountKey: abcdefg-abcdefg-abcdefg-abcdefg
    isHdpool: true
#    minerName: My Miner
    color: cyan

# BURST via VLP pool (http://voiplanparty.com)
  - name: BURST - VLP [Pool]
    priority: 1
    isPool: true
    url: "http://voiplanparty.com:8124"
    color: magenta

# BURST Testnet Pool - Disabled by default
  - name: BURST - TestNet [Pool]
    enabled: false
    priority: 2
    isPool: true
    url: "http://75.100.126.230:8124"
    targetDeadline: 7200
    color: yellow
```

## Troubleshooting
You can always ask for help in the [Archon Discord](https://discord.gg/ZdVbrMn), just PLEASE try to read up a little first, as it's VERY annoying constantly being bothered by people who can't be bothered to help themselves before asking a question which could've been answered by reading the readme!

### Frequently Asked Questions:
- Why do I get the error `Required parameters for nonce submission were not present.`?
  - The most common cause for this error is a passphrase being defined in Scavenger configuration. When a passphrase is set in Scavenger, it assumes you are solo mining directly to a burst/boom wallet (even if it's just the default passphrase which you don't use) and will not send the deadline value to Archon, which Archon requires.
  - TL;DR: Remove any passphrases from your Scavenger configuration files. The first line in your Scavenger config.yaml file should be `plot_dirs:`.
- Why is my capacity not showing properly?
  - This is a tricky one. Archon tracks your miner's capacity by the submission IP. If you have more than one miner submitting from the same IP address, their capacities will overwrite each other constantly. If you are mining with Scavenger, you also need to have the `send_proxy_details` configuration option enabled in Scavenger, or it won't send your capacity to Archon.
  - If you've definitely set the `send_proxy_details` to `true` in Scavenger **(and restarted it)** and still aren't seeing your capacity, ask for help in the [Archon Discord](https://discord.gg/ZdVbrMn).
- How do I set up mining [currency name]?
  - I've provided numerous examples above in the [Defining your mining chains](#defining-your-mining-chains) section of this readme.
  - If you still can't figure it out, ask for help in the [Archon Discord](https://discord.gg/ZdVbrMn).
- Archon keeps starting a block from another chain before some of my miners have finished mining it! Why?
  - The `gracePeriod` setting tells Archon how long it needs to wait for miners to finish scanning, before it sends a lower priority block. If Archon is sending a new block before some of your miners have finished scanning the old block, your grace period should be increased.
  - TL;DR: This happens because your `gracePeriod` setting is too short. Check the miners connected to Archon, see how long they mine for. Set your `gracePeriod` setting to be *slightly more* than that time (eg if your slowest miner takes **30 seconds** to scan on average, set your `gracePeriod` to `35`).
- Why isn't there a Web UI?
  - There is, it's just under development at the moment. When it's all working and I'm happy with it, I'll release it! :)

## Donations
Donations are much appreciated, you can use any of the following:
- BURST
  - `BURST-3N9S-QKST-9NKF-AWSM8`
- BHD
  - `3Ey56Foh57CJGcxH7j1QVpSSC4kSuKiZYG`
- BTC
  - `14EHjND943ntvy2ectJ28T2hhGt98S2NZr`
- ETH
  - `0xca20440cf480e0057a59f70107d951a972de5c0d`
- LTC
  - `LYyE7WAqvsDfBsiBsSx5HoER248MTWf5WC`
- Bitmart Referral Code: `BL4V99` (Link: [http://www.bitmart.com/?r=BL4V99](http://www.bitmart.com/?r=BL4V99))
